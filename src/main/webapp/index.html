<!doctype html>

<html ng-app="hcloud">
	<head>
		<title>HCloud: hictml test page</title>
		
        <meta http-equiv="Content-Type"    content="text/html; charset=UTF-8">
        <meta name="viewport"              content="width=device-width, initial-scale=1">
        <meta name="description"           content="The test page for HicTML">
        <meta name="author"                content="Andrea Cardamone">
		
		<!-- 
		<link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans">
		 -->
		
		<link type="text/css" rel="stylesheet" href="scripts/vendor/font-awesome-4.2.0/css/font-awesome.min.css">
		<link type="text/css" rel="stylesheet" href="scripts/vendor/jquery-ui-1.11.1/jquery-ui.min.css">
		<link type="text/css" rel="stylesheet" href="scripts/vendor/bootstrap-3.2.0/css/bootstrap.min.css">
		<link type="text/css" rel="stylesheet" href="scripts/vendor/jquery-slidemenu-0.0.1/dist/css/slidemenu.min.css">
		<link type="text/css" rel="stylesheet" href="scripts/vendor/jquery-jsonview-1.2.0/dist/jquery.jsonview.css">

		
		<script type="text/javascript" src="scripts/vendor/lodash-2.4.1/lodash-2.4.1.min.js"></script>
		<script type="text/javascript" src="scripts/vendor/jquery-2.1.1/jquery-2.1.1.min.js"></script>
		<script type="text/javascript" src="scripts/vendor/jquery-ui-1.11.1/jquery-ui.min.js"></script>
		<script type="text/javascript" src="scripts/vendor/jquery-slidemenu-0.0.1/dist/js/jquery.slidemenu.min.js"></script>
		<script type="text/javascript" src="scripts/vendor/jquery-jsonview-1.2.0/dist/jquery.jsonview.js"></script>
        <script type="text/javascript" src="scripts/vendor/angular-1.3.0/angular.min.js"></script>
        <script type="text/javascript" src="scripts/vendor/angular-1.3.0/angular-resource.min.js"></script>
		
        <script type="text/javascript" src="scripts/cluster.js"></script>
		<script type="text/javascript" defer>
			$(function() {
				$('.slide-menu').slidemenu();
			})
		</script>
        
        <script type="text/javascript" src="scripts/app.js"></script>
        
	</head>
	
	<body>
		<div class="slide-menu" ng-controller="menu">
		    <ul class="menu-items">
		        <li class="menu-item" data-target="#Panel1" title="Tipologia di test">
			        <div class="menu-icon">
		            	<i class="fa fa-book"></i>
		            </div>
		        	<div class="menu-content">                
		                <span>Tipologia di test</span>
		            </div>            
		            <div class="menu-close">
		            	<i class="fa fa-times"></i>
		            </div>
		        </li>
		        <li id="CalendarIcon" class="menu-item" data-target="#Panel2" title="Opzioni">
		        	<div class="menu-icon">
		            	<i class="fa fa-calendar"></i>
		            </div>
		        	<div class="menu-content">                
		                <span>Opzioni test</span>
		            </div>
		            <div class="menu-close">
		            	<i class="fa fa-times"></i>
		            </div>
		        </li>
		    </ul>
		    <div class="menu-panels">
		        <div id="Panel1" class="menu-panel">
		        	<dl>
			        	<dt>Single host</dt>
			        	<dd>
							<input type="radio" name="cluster_mode" checked ng-value="single_host" ng-model="options.cluster_mode">
						</dd>
					
						<dt>Bigmemory</dt>
						<dd>
							<input type="radio" name="cluster_mode" ng-value="cluster_bigmemory" ng-model="options.cluster_mode">
						</dd>
					
						<dt>Hazelcast</dt>
						<dd>
							<input type="radio" name="cluster_mode" ng-value="cluster_hazelcast" ng-model="options.cluster_mode">
						</dd>
					
						<dt>Infinispan</dt>
						<dd>
							<input type="radio" name="cluster_mode" ng-value="cluster_infinispan" ng-model="options.cluster_mode">
						</dd>
		        	</dl>
				</div>
				
		        <div id="Panel2" class="menu-panel">
		        	<dl>
						<dt>NÂ° di oggetti</dt>
			            <dd>
							<input id="objects_number" type="number" size="3" value="2" ng-model="options.objects_number">
						</dd>
			
						<dt>ID iniziale</dt>
						<dd>
							<input id="starting_object" type="number" size="3" value="1" ng-model="options.starting_object">
						</dd>
			
						<dt>Memoria (MB)</dt>
						<dd>
							<input id="size_mb" type="number" size="3" ng-value="-1" ng-model="options.size_mb">
						</dd>
			
						<dt>Tempo (sec)</dt>
						<dd>
							<input id="time_sec" type="number" size="3" value="-1" ng-model="options.time_sec">
						</dd>
			
						<dt>Ritardo minimo (sec)</dt>
						<dd>
							<input id="delay_min" type="number" size="3" value="0" ng-model="options.delay_min">
						</dd>
		
						<dt>Computazione</dt>
						<dd>
							<select id="run_mode" ng-model="options.run_mode">
								<option value="sleep">cpu sleep</option>
								<option value="sqrt">cpu sqrt</option>
							</select>
						</dd>
					</dl>
					
					<hr>
					
					<button class="btn btn-link" ng-click="newTest()">ADD TEST SET</button> 
					
		        </div>
		        <div id="Panel3" class="menu-panel">
		            
		        </div>
		        <div id="Panel4" class="menu-panel">
		           
		        </div>
		        <div id="Panel5" class="menu-panel">
		            
		        </div>
		    </div>
		</div>
        
        
        <div ng-controller="hcloud" class="container-fluid">
            <div>
				<h1>Lista dei test</h1>

				<div class="text-center">
					<span>filesystems: </span>
					<span class="text-success">{{info.fs.single}}</span>
					<button class="btn btn-link" ng-click="doTestAll()">run all</button>
				</div>					
				
		   		<div class="row">
   		   			<div class="col-md-5">Test</div>
   		   			<div class="col-md-1">ID</div>
   		   			<div class="col-md-1">Mem</div>
   		   			<div class="col-md-1">Time</div>
   		   			<div class="col-md-1">Delay</div>
   		   			<div class="col-md-1">Stato</div>
                    <div class="col-md-2"></div>
		   		</div>
		   		<div ng-repeat="(set_id, set) in tests">
		   			<div data-set_id="{{set_id}}">
			   			<div class="row" data-obj_id="{{test.obj_id}}" ng-repeat="test in set">
			   				<div class="col-md-5">
			   					<span>cluster: </span>
				   				<span class="text-success">{{test.cluster_mode}}</span>
				   				
			   					<span>mode: </span>
			   					<span class="text-success">{{test.run_mode}}</span>
			   					
			   					<span>id: </span>
			   					<span class="text-success">{{test.set_id}}</span>
		   					</div>
		   					
			   				<div class="col-md-1">{{test.obj_id}}</div>
			   				<div class="col-md-1">{{test.size_mb}}</div>
			   				<div class="col-md-1">{{test.time_sec}}</div>
			   				<div class="col-md-1">{{test.delay_min}}</div>
			   				<div class="col-md-1">
			   					<div data-state ng-click="doResult($event)"></div>
			   				</div>
	                        <div class="col-md-2">
	                            <a href="javascript:;" data-run class="btn btn-link" ng-click="doTest($event)">run object</a>
		   						<a href="javascript:;" ng-click="doTestSet($event)">run test</a>
			   				</div>
			   				<div class="col-md-12">
			   					<div data-result style="display: none;"></div>
			   				</div>
			   			</div>
		   			</div>
		   		</div>
		   	</div>
        </div>
	</body>
</html>

		
